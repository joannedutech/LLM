# Personal Knowledge Website

個人知識網站專案。內容涵蓋三大分類：投資知識、產品管理、讀書心得。
具備標籤篩選系統與全文搜尋功能，未來將加入 AI Chat。

---

## Engineering Principles

在本專案中，遵循以下實作原則：

- **KISS**：從最簡可行方案開始，不過度工程化。功能先能用，再逐步優化。
- **DRY**：標籤庫定義、metadata schema、篩選邏輯各只定義一次，其他地方引用。
- **SOLID（適度應用）**：模組之間職責清晰。搜尋模組、標籤管理模組、文章渲染模組應可獨立修改而不互相影響。不需要教條式套用每一條，視具體情況判斷。
- **DDD**：程式結構應反映業務領域。核心領域模型包含：Article（文章）、Tag（標籤）、TagRegistry（標籤庫）、Category（分類）、SearchIndex（搜尋索引）。
- **BDD 思維**：用使用者行為描述需求（「當使用者點擊標籤 X，應該看到所有含有標籤 X 的文章」），但不需要完整的 Gherkin 規格流程。
- **TDD 精神**：關鍵邏輯（標籤篩選、交叉篩選、搜尋排序）應有測試覆蓋，但不要求 100% 覆蓋率。

---

## Tag System Rules

**IMPORTANT: 所有標籤必須從標籤庫（Tag Registry）中選取，不允許隨意新增未登記的標籤。**

### Tag Registry 結構

標籤庫包含三個要素：
1. **標準化名稱**：每個標籤有唯一正式名稱（繁體中文為主，專有名詞可保留英文如 PMBOK、ETF）
2. **同義詞對照**：意思相近的詞彙對應到同一個標準標籤（「理財」→「投資」）
3. **層級關係**：父子結構（「投資」下層有「價值投資」「指數投資」「技術分析」）

### 初始標籤層級

| 主標籤 | 子標籤 |
|--------|--------|
| 投資知識 | 價值投資、指數投資、技術分析、總經分析、行為經濟學、財報分析 |
| 產品管理 | 專案管理、產品設計、溝通技巧、領導力、時間管理、工程技術 |
| 讀書心得 | 心理學、商業思維、自我成長、歷史、哲學、科學 |
| 通用概念 | 決策思維、系統性思考、認知偏誤、心智模型、數據分析 |

### 標籤維護規則

- 新增標籤前，先檢查標籤庫是否已有同義標籤
- 定期清理：合併重複、刪除未使用、更新同義詞對照

---

## Tag Filtering Interaction

### 基本流程

1. 每篇文章顯示所有標籤，以可點擊的徽章形式呈現
2. 點擊任一標籤 → 篩選結果頁，列出所有帶有該標籤的文章
3. 結果頁顯示：標題、摘要、日期、分類、標籤

### 多標籤交叉篩選

支援同時選擇多個標籤，只顯示**同時包含所有已選標籤**的文章。

### 篩選頁面要點

- 頂部顯示已選標籤，提供「×」按鈕可單獨移除
- 顯示符合文章數量（如「找到 12 篇相關文章」）
- 支援排序（依日期、依標題）
- 可搭配分類、日期範圍進一步縮小結果

---

## Article Metadata Schema

**YOU MUST ensure every article has this complete metadata structure:**

```yaml
---
title: "文章標題"           # 必填
category: "主分類"          # 必填，單選
tags:                       # 必填，從標籤庫選取
  - 標籤A
  - 標籤B
date: YYYY-MM-DD            # 必填
summary: "50-100字摘要"     # 必填
source: "來源出處"          # 選填
---
```

Category 僅限三個值：`投資知識`、`產品管理`、`讀書心得`

---

## Current Scope & Boundaries

### 現在要做的
- 手動標籤 + 標籤庫管理
- 點擊標籤篩選 + 多標籤交叉篩選
- 全文搜尋
- 統一的文章 metadata 結構

### 未來可加入（現在不做）
- AI 自動生成標籤
- 語意搜尋 / 向量搜尋
- 自動推薦相關文章
- AI Chat 對話功能
